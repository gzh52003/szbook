(function(e){function t(t){for(var o,a,u=t[0],s=t[1],i=t[2],l=0,d=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r={app:0},c=[];function u(e){return s.p+"app/js/"+({about:"about"}[e]||e)+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1,"chunk-0a74808d":1,"chunk-bc44980c":1,"chunk-58419d85":1,"chunk-5cbf71c5":1,"chunk-718bd5f3":1,"chunk-7de5aef8":1,"chunk-b70492b8":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="app/css/"+({about:"about"}[e]||e)+".css",r=s.p+o,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var i=c[u],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===o||l===r))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){i=d[u],l=i.getAttribute("data-href");if(l===o||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete a[e],f.parentNode.removeChild(f),n(c)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var c=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=c);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=u(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="http://42.194.179.50/szbook/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"main"},[n("router-view")],1),n("van-tabbar",{attrs:{"active-color":"#ff1100","inactive-color":"#000",route:"",id:"nav",fixed:!1}},[!this.$route.params.id||this.$route.query.tatle?n("div",{staticClass:"bottomBox"},e._l(e.Tabbar,(function(t,o){return n("van-tabbar-item",{key:o,attrs:{to:t.path}},[n("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:t.icon}}),n("div",[e._v(e._s(t.text))])],1)})),1):n("div",{staticClass:"bottomBox buyGoods"},[n("div",{staticStyle:{"line-height":"32px",margin:"0"}},[n("p",[n("van-icon",{attrs:{name:"service-o"}})],1),n("p",{staticStyle:{"line-height":"10px"}},[e._v("客服")])]),n("div",{staticStyle:{"line-height":"50px",color:"#bdbdbd"}},[n("van-icon",{attrs:{name:"like"}})],1),n("div",{staticStyle:{"line-height":"50px"}},[e._v("立即购买")]),n("div",{staticStyle:{"line-height":"50px",background:"#f10",color:"#fff"},on:{click:e.addCart}},[e._v("加入购物车")])])])],1)},r=[],c=(n("b0c0"),n("ab71"),n("58e6")),u=(n("2994"),n("2bdd")),s=(n("c3a6"),n("ad06")),i=(n("a52c"),n("2ed4")),l=(n("537a"),n("ac28")),d=(n("be35"),n("d0e2"));Object(d["a"])(),o["a"].use(l["a"]),o["a"].use(i["a"]),o["a"].use(s["a"]),o["a"].use(u["a"]),o["a"].use(c["a"]);var f={data:function(){return{Tabbar:[{path:"/home",name:"home",icon:"home",badge:0,text:"书城"},{path:"/category",name:"category",icon:"shujiguanli",badge:0,text:"类别"},{path:"/hotnews",name:"hotNews",icon:"tubiao-",badge:0,text:"热点"},{path:"/shopcart",name:"shopCart",icon:"gouwuchezhengpin",badge:0,text:"购物车"},{path:"/mine",name:"mine",icon:"wode",badge:0,text:"我的"}]}},created:function(){console.log("this.$store.state",this.$store.state)},methods:{addCart:function(){var e=this;if(localStorage.getItem("userInfo")){var t=this.$store.state.currentGoods.name;this.$request.get("/goods?bookName="+t).then((function(t){var n=t.data.data[0];e.$store.commit("changeUserInfo",n),localStorage.setItem("szbookcarInfo",JSON.stringify(e.$store.state.userInfo.cartInfo)),e.$request.patch("/goods",{username:e.$store.state.userInfo.username,cartInfo:e.$store.state.userInfo.cartInfo}).then((function(e){console.log(e)}))}))}else this.$router.push("/mine")}},watch:{"$route.path":function(){}}};document.title="深圳书城";var h=f,p=(n("5c0b"),n("2877")),b=Object(p["a"])(h,a,r,!1,null,null,null),m=b.exports,g=(n("d3b7"),n("8c4f"));o["a"].use(g["a"]);var v=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/shopcart",name:"ShopCart",component:function(){return n.e("chunk-5cbf71c5").then(n.bind(null,"712d"))}},{path:"/category",name:"Category",component:function(){return n.e("chunk-718bd5f3").then(n.bind(null,"bb511"))}},{path:"/goodslist/:id",name:"GoodsList",component:function(){return n.e("chunk-7de5aef8").then(n.bind(null,"6109"))}},{path:"/goods/:id",name:"Goods",component:function(){return n.e("chunk-58419d85").then(n.bind(null,"c948"))}},{path:"/hotnews",name:"HotNews",component:function(){return n.e("chunk-b70492b8").then(n.bind(null,"d585"))}},{path:"/shopcart",name:"ShopCart",component:function(){return n.e("chunk-5cbf71c5").then(n.bind(null,"712d"))}},{path:"/mine",name:"Mine",component:function(){return Promise.all([n.e("chunk-0a74808d"),n.e("chunk-bc44980c")]).then(n.bind(null,"3adc"))}},{path:"/reg",name:"Reg",component:function(){return Promise.all([n.e("chunk-0a74808d"),n.e("chunk-2d0b2746")]).then(n.bind(null,"23d3"))}},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-0a74808d"),n.e("chunk-2d0e9577")]).then(n.bind(null,"8cb8"))}},{path:"*",name:"404",component:function(){return n.e("chunk-2d0c1b8b").then(n.bind(null,"46f9"))}}],k=new g["a"]({mode:"history",routes:v}),y=k,I=(n("99af"),n("d81d"),n("45fc"),n("2909")),S=n("2f62");o["a"].use(S["a"]);var w=new S["a"].Store({state:function(){return localStorage.getItem("szbookUsername")&&localStorage.getItem("szbookcarInfo")?{userInfo:{username:localStorage.getItem("szbookUsername"),cartInfo:JSON.parse(localStorage.getItem("szbookcarInfo"))},currentGoods:{}}:(console.log(2),{userInfo:{},currentGoods:{}})},mutations:{addUserInfo:function(e){e.userInfo.username=localStorage.getItem("szbookUsername"),e.userInfo.cartInfo=JSON.parse(localStorage.getItem("szbookcarInfo"))},setCurrentGoods:function(e,t){e.currentGoods=t},changeUserInfo:function(e,t){var n=e.userInfo.cartInfo;console.log(n),console.log(e.userInfo.cartInfo),console.log(t),n.some((function(e){return e.book._id==t._id}))?n.map((function(e){return e.book._id==t._id&&(e.num+=1),e})):e.userInfo.cartInfo=[].concat(Object(I["a"])(n),[{book:t,num:1,checked:!1}])}},actions:{},modules:{}}),x=n("bc3a"),C=n.n(x),_=C.a.CancelToken.source(),O=C.a.create({baseURL:"http://42.194.179.50/api",timeout:8e3,withCredentials:!1,headers:{"Content-Type":"application/json;charset=UTF-8"},cancelToken:_.token});O.source=_;var j=O;o["a"].config.productionTip=!1,o["a"].prototype.$request=j,new o["a"]({router:y,store:w,render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("c58b"),a=n.n(o);a.a},be35:function(e,t,n){},c58b:function(e,t,n){},d0e2:function(e,t,n){"use strict";n("9cb7");var o=n("66fd"),a=(n("0ec5"),n("21ab")),r=(n("3df5"),n("2830")),c=(n("ab71"),n("58e6")),u=(n("bda7"),n("5e46")),s=(n("da3c"),n("0b33")),i=(n("2994"),n("2bdd")),l=(n("e7e5"),n("d399")),d=(n("5246"),n("6b41")),f=(n("5852"),n("d961")),h=(n("4056"),n("44bf")),p=(n("afd4"),n("ca19")),b=(n("c3a6"),n("ad06")),m=(n("4b0a"),n("2bb1")),g=(n("7844"),n("5596")),v=(n("66cf"),n("343b")),k=(n("a52c"),n("2ed4")),y=(n("537a"),n("ac28")),I=(n("66b9"),n("b650")),S=n("2b0e");t["a"]=function(){S["a"].use(I["a"]),S["a"].use(y["a"]),S["a"].use(k["a"]),S["a"].use(v["a"]),S["a"].use(g["a"]),S["a"].use(m["a"]),S["a"].use(b["a"]),S["a"].use(p["a"]),S["a"].use(h["a"]),S["a"].use(f["a"]),S["a"].use(d["a"]),S["a"].use(l["a"]),S["a"].use(i["a"]),S["a"].use(s["a"]),S["a"].use(u["a"]),S["a"].use(c["a"]),S["a"].use(r["a"]),S["a"].use(a["a"]),S["a"].use(o["a"])}}});