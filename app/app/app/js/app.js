(function(e){function t(t){for(var a,o,u=t[0],i=t[1],s=t[2],f=0,d=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r={app:0},c=[];function u(e){return i.p+"app/js/"+({about:"about"}[e]||e)+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={about:1,"chunk-12f2cbce":1,"chunk-28d12b6a":1,"chunk-3acfd4b4":1,"chunk-58419d85":1,"chunk-58e26dd5":1,"chunk-7a64a22a":1,"chunk-7de5aef8":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="app/css/"+({about:"about"}[e]||e)+".css",r=i.p+a,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===a||f===r))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],f=s.getAttribute("data-href");if(f===a||f===r)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete o[e],l.parentNode.removeChild(l),n(c)},l.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=c);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=u(e);var d=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}r[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="http://42.194.179.50/szbook/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=f;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},2:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"main"},[n("keep-alive",[n("router-view")],1)],1),n("van-tabbar",{attrs:{"active-color":"#ff1100","inactive-color":"#000",route:"",id:"nav",fixed:!1}},[!this.$route.params.id||this.$route.query.tatle?n("div",{staticClass:"bottomBox"},e._l(e.Tabbar,(function(t,a){return n("van-tabbar-item",{key:a,attrs:{to:t.path}},[n("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:t.icon}}),n("div",[e._v(e._s(t.text))])],1)})),1):n("div",{staticClass:"bottomBox buyGoods"},[n("div",{staticStyle:{"line-height":"32px",margin:"0"}},[n("p",[n("van-icon",{attrs:{name:"service-o"}})],1),n("p",{staticStyle:{"line-height":"10px"}},[e._v("客服")])]),n("div",{staticStyle:{"line-height":"50px",color:"#bdbdbd"}},[n("van-icon",{attrs:{name:"like"}})],1),n("div",{staticStyle:{"line-height":"50px"}},[e._v("立即购买")]),n("div",{staticStyle:{"line-height":"50px",background:"#f10",color:"#fff"},on:{click:e.addCart}},[e._v("加入购物车")])])])],1)},r=[],c=(n("b0c0"),n("ab71"),n("58e6")),u=(n("2994"),n("2bdd")),i=(n("c3a6"),n("ad06")),s=(n("a52c"),n("2ed4")),f=(n("537a"),n("ac28")),d=(n("be35"),n("d0e2"));Object(d["a"])(),a["a"].use(f["a"]),a["a"].use(s["a"]),a["a"].use(i["a"]),a["a"].use(u["a"]),a["a"].use(c["a"]);var l={data:function(){return{Tabbar:[{path:"/home",name:"home",icon:"home",badge:0,text:"书城"},{path:"/category",name:"category",icon:"shujiguanli",badge:0,text:"类别"},{path:"/hotnews",name:"hotNews",icon:"tubiao-",badge:0,text:"热点"},{path:"/shopcart",name:"shopCart",icon:"gouwuchezhengpin",badge:0,text:"购物车"},{path:"/mine",name:"mine",icon:"wode",badge:0,text:"我的"}]}},created:function(){console.log("this.$store.state",this.$store.state)},methods:{addCart:function(){var e=this;if(localStorage.getItem("userInfo")){var t=this.$store.state.currentGoods.name;this.$request.get("/goods?bookName="+t).then((function(t){var n=t.data.data[0];e.$store.commit("changeUserInfo",n),localStorage.setItem("szbookcarInfo",JSON.stringify(e.$store.state.userInfo.cartInfo)),e.$request.patch("/goods",{username:e.$store.state.userInfo.username,cartInfo:e.$store.state.userInfo.cartInfo}).then((function(e){}))}))}else this.$router.push("/mine")}},watch:{"$route.path":function(){}}};document.title="深圳书城";var h=l,p=(n("5c0b"),n("2877")),b=Object(p["a"])(h,o,r,!1,null,null,null),m=b.exports,g=(n("d3b7"),n("8c4f"));a["a"].use(g["a"]);var v=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",meta:{keepAlive:!0},component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/shopcart",name:"ShopCart",component:function(){return n.e("chunk-58e26dd5").then(n.bind(null,"712d"))}},{path:"/category",name:"Category",component:function(){return n.e("chunk-7a64a22a").then(n.bind(null,"bb511"))}},{path:"/goodslist/:id",name:"GoodsList",component:function(){return n.e("chunk-7de5aef8").then(n.bind(null,"6109"))}},{path:"/goods/:id",name:"Goods",component:function(){return n.e("chunk-58419d85").then(n.bind(null,"c948"))}},{path:"/hotnews",name:"HotNews",component:function(){return n.e("chunk-3acfd4b4").then(n.bind(null,"d585"))}},{path:"/shopcart",name:"ShopCart",component:function(){return n.e("chunk-58e26dd5").then(n.bind(null,"712d"))}},{path:"/mine",name:"Mine",component:function(){return Promise.all([n.e("chunk-12f2cbce"),n.e("chunk-28d12b6a")]).then(n.bind(null,"3adc"))}},{path:"/reg",name:"Reg",component:function(){return Promise.all([n.e("chunk-12f2cbce"),n.e("chunk-2d0b2746")]).then(n.bind(null,"23d3"))}},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-12f2cbce"),n.e("chunk-2d0e9577")]).then(n.bind(null,"8cb8"))}},{path:"*",name:"404",component:function(){return n.e("chunk-2d0c1b8b").then(n.bind(null,"46f9"))}}],k=new g["a"]({mode:"history",routes:v}),I=k,y=(n("99af"),n("4de4"),n("a15b"),n("d81d"),n("13d5"),n("45fc"),n("b680"),n("ac1f"),n("1276"),n("2909")),w=n("2f62");n("9490"),n("0706");a["a"].use(w["a"]);var S=new w["a"].Store({state:function(){return localStorage.getItem("szbookUsername")&&localStorage.getItem("szbookcarInfo")?{userInfo:{username:localStorage.getItem("szbookUsername"),cartInfo:JSON.parse(localStorage.getItem("szbookcarInfo"))},currentGoods:{}}:{userInfo:{cartInfo:[],username:""},currentGoods:{}}},getters:{totalPrice:function(e){var t=e.userInfo.cartInfo.filter((function(e){return e.checked})),n=t.reduce((function(e,t){var n=t.book.line_price.split("");return n.shift(),n=parseFloat(n.join("")),e+n*t.num}),0);return n.toFixed(2)}},mutations:{addUserInfo:function(e){e.userInfo.username=localStorage.getItem("szbookUsername"),e.userInfo.cartInfo=JSON.parse(localStorage.getItem("szbookcarInfo"))},setCurrentGoods:function(e,t){e.currentGoods=t},changeUserInfo:function(e,t){var n=e.userInfo.cartInfo;n.some((function(e){return e.book._id==t._id}))?n.map((function(e){return e.book._id==t._id&&(e.num+=1),e})):e.userInfo.cartInfo=[].concat(Object(y["a"])(n),[{book:t,num:1,checked:!1}])},changeGoodNum:function(e,t){var n=t.willNum,a=t.bookName;e.userInfo.cartInfo=e.userInfo.cartInfo.map((function(e){return e.book.bookName===a&&(e.num=n),e}))},changeCheck:function(e,t){var n=t.ischeck,a=t.bookName;e.userInfo.cartInfo=e.userInfo.cartInfo.map((function(e){return e.book.bookName===a&&(e.checked=n),e}))},deleteGood:function(e){e.userInfo.cartInfo=e.userInfo.cartInfo.filter((function(e){return!e.checked}))}},actions:{},modules:{}}),x=n("bc3a"),C=n.n(x),_=C.a.CancelToken.source(),O=C.a.create({baseURL:"http://42.194.179.50/api",timeout:8e3,withCredentials:!1,headers:{"Content-Type":"application/json;charset=UTF-8"},cancelToken:_.token});O.source=_;var j=O;a["a"].config.productionTip=!1,a["a"].prototype.$request=j,new a["a"]({router:I,store:S,render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("c58b"),o=n.n(a);o.a},be35:function(e,t,n){},c58b:function(e,t,n){},d0e2:function(e,t,n){"use strict";n("9cb7");var a=n("66fd"),o=(n("0ec5"),n("21ab")),r=(n("3df5"),n("2830")),c=(n("ab71"),n("58e6")),u=(n("bda7"),n("5e46")),i=(n("da3c"),n("0b33")),s=(n("2994"),n("2bdd")),f=(n("e7e5"),n("d399")),d=(n("5246"),n("6b41")),l=(n("5852"),n("d961")),h=(n("4056"),n("44bf")),p=(n("afd4"),n("ca19")),b=(n("c3a6"),n("ad06")),m=(n("4b0a"),n("2bb1")),g=(n("7844"),n("5596")),v=(n("66cf"),n("343b")),k=(n("a52c"),n("2ed4")),I=(n("537a"),n("ac28")),y=(n("66b9"),n("b650")),w=n("2b0e");t["a"]=function(){w["a"].use(y["a"]),w["a"].use(I["a"]),w["a"].use(k["a"]),w["a"].use(v["a"]),w["a"].use(g["a"]),w["a"].use(m["a"]),w["a"].use(b["a"]),w["a"].use(p["a"]),w["a"].use(h["a"]),w["a"].use(l["a"]),w["a"].use(d["a"]),w["a"].use(f["a"]),w["a"].use(s["a"]),w["a"].use(i["a"]),w["a"].use(u["a"]),w["a"].use(c["a"]),w["a"].use(r["a"]),w["a"].use(o["a"]),w["a"].use(a["a"])}}});